{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createGalleryMarkup({ hits }) {\n    if (hits.length === 0) {\n        onSearchError();\n        return;\n    }\n\n    return hits\n        .map(\n            ({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n    />\n    </a>\n    <ul class=\"gallery-attribute-list\">\n    <li class=\"attribute-item\">\n            <p class=\"attribute\">Likes</p>\n            <p class=\"attribute-value\">${likes}</p>\n        </li>\n        <li class=\"attribute-item\">\n            <p class=\"attribute\">Views</p>\n            <p class=\"attribute-value\">${views}</p>\n        </li>\n        <li class=\"attribute-item\">\n            <p class=\"attribute\">Comments</p>\n            <p class=\"attribute-value\">${comments}</p>\n        </li>\n        <li class=\"attribute-item\">\n            <p class=\"attribute\">Downloads</p>\n            <p class=\"attribute-value\">${downloads}</p>\n        </li>\n        </ul>\n</li>`\n        )\n        .join('');\n}\n","const API_KEY = '45360350-58fd54754bd8f677bef7c2cc3';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport function searchImages(query) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { createGalleryMarkup } from './js/render-functions.js';\nimport { searchImages } from './js/pixabay-api.js';\n\n\nconst gallery = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.js-search-form');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nsearchForm.addEventListener('submit', handleSearch);\n\n\nfunction handleSearch(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const queryValue = form.elements.query.value.trim().toLowerCase();\n\n    if (queryValue === '') {\n        gallery.innerHTML = '';\n        iziToast.error({\n            message: 'Please enter a search query.',\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n\n    searchImages(queryValue)\n        .then(data => {\n            const markup = createGalleryMarkup(data);\n            gallery.innerHTML = markup;\n            lightbox.refresh();\n        })\n        .catch(onSearchError)\n\n        .finally(() => {\n            loader.style.display = 'none';\n            form.reset();\n        });\n}\n\n\n\nfunction onSearchError(error) {\n    iziToast.error({\n        message:\n            'Sorry, there are no images matching your search query. Please try again!',\n    });\n    gallery.innerHTML = '';\n    loader.style.display = 'none';\n}\n\n\nlet lightbox = new SimpleLightbox('.gallery .gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n\niziToast.settings({\n    class: 'izi-toast',\n    position: 'topRight',\n    backgroundColor: 'rgba(239, 64, 64, 1)',\n    progressBarColor: 'rgba(181, 27, 27, 1)',\n    theme: 'dark',\n});\n"],"names":["createGalleryMarkup","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","searchImages","query","searchParams","response","gallery","searchForm","loader","handleSearch","event","form","queryValue","iziToast","data","markup","lightbox","onSearchError","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAoB,CAAE,KAAAC,GAAQ,CAC1C,GAAIA,EAAK,SAAW,EAAG,CACnB,gBACA,MACH,CAED,OAAOA,EACF,IACG,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAkB;AAAA;AAAA,wCAEsBL,CAAa;AAAA;AAAA;AAAA,eAGtCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMsBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,MAIzC,EACA,KAAK,EAAE,CAChB,CC9CA,MAAMC,EAAU,qCACVC,EAAW,2BAGV,SAASC,EAAaC,EAAO,CAChC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CCTA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBD,EAAW,iBAAiB,SAAUE,CAAY,EAGlD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpD,GAAIC,IAAe,GAAI,CACnBN,EAAQ,UAAY,GACpBO,EAAS,MAAM,CACX,QAAS,8BACrB,CAAS,EACD,MACH,CAEDL,EAAO,MAAM,QAAU,QAEvBN,EAAaU,CAAU,EAClB,KAAKE,GAAQ,CACV,MAAMC,EAASxB,EAAoBuB,CAAI,EACvCR,EAAQ,UAAYS,EACpBC,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMC,CAAa,EAEnB,QAAQ,IAAM,CACXT,EAAO,MAAM,QAAU,OACvBG,EAAK,MAAK,CACtB,CAAS,CACT,CAIA,SAASM,EAAcC,EAAO,CAC1BL,EAAS,MAAM,CACX,QACI,0EACZ,CAAK,EACDP,EAAQ,UAAY,GACpBE,EAAO,MAAM,QAAU,MAC3B,CAGA,IAAIQ,EAAW,IAAIG,EAAe,yBAA0B,CACxD,aAAc,MACd,aAAc,GAClB,CAAC,EAGDN,EAAS,SAAS,CACd,MAAO,YACP,SAAU,WACV,gBAAiB,uBACjB,iBAAkB,uBAClB,MAAO,MACX,CAAC"}